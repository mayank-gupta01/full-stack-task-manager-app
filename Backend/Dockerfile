FROM node:20-alpine

RUN mkdir -p /app

COPY package.json /app/
COPY src /app/src/

ENV MONGODB_URI=
ENV PORT=8000
ENV REFRESH_TOKEN_SECRET=
ENV REFRESH_TOKEN_EXPIRY=
ENV ACCESS_TOKEN_SECRET=
ENV ACCESS_TOKEN_EXPIRY=1d
ENV CLOUDINARY_CLOUD_NAME=
ENV CLOUDINARY_API_KEY=
ENV CLOUDINARY_API_SECRET=
ENV CORS_ORIGIN=http://localhost:3000

WORKDIR /app

RUN npm install

CMD ["node","src/index.js"]